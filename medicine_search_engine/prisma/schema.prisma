generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}



type changeContent {
  content String
  date    DateTime 
}

type ingredients {
  amount       String
  en           String?
  ko           String
  pharmacopoeia String
  standard     String
  unit         String
}

type compound {
  code String
  name String
}

type reExamination {
  re_examination_end_date   DateTime?
  re_examination_start_date DateTime?
  type                      String
}
type pharmacologicalClass {
  code String
  name String
}

model medicine {
  id                  String   @id @map("_id")
  additive_ingredients     compound[]
  atc_code            String?
  cancel_date         DateTime?
  cancel_status       String
  caution             String?
  caution_file_url    String?
  change_content      changeContent[]
  
  change_date         DateTime?
  classification      String?
  company             String
  company_number      String?
  document_file_url   String?
  effect              String?
  effect_file_url     String?
  english_company     String?
  english_name        String?
  expiration_date     String?
  ingredients         ingredients[]
  insurance_code      String[] 
  is_new_drug         Boolean
  main_ingredients     compound[]
  name                String
  narcotic_type       String?
  packing_unit        String
  permit_date         DateTime?
  raw_material        String
  re_examination      reExamination[]
  register_id         String
  serial_number       String
  standard_code       String[]
  state               String?
  storage_method      String
  total_amount        String?
  type                String
  usage               String?
  usage_file_url      String?
  document String?

  insert_file_url    String? 
  consignment_manufacture String? 


  industry_type    String? //COMMON //업종
  image_url           String? //COMMON //이미지
  pharmacological_class    pharmacologicalClass[] //COMMON //약효분류명
  ingredients_count Int? //COMMON //성분수 
  company_serial_number String? //COMMON //업체일련번호

  @@index([main_ingredients])
  @@index([main_ingredients.code])
  @@index([additive_ingredients])
  @@index([additive_ingredients.code])
  @@index([insurance_code])
}



model dur_ingredient_combined_taboo{
  id String @id @map("_id") /// [dur_code]_[contraindication_dur_code]
  dur_code String  
  dur_type String // 병용금기
  mix_type String // 단일/복합
  ingredient_eng_name String
  ingredient_kor_name String
  mix String?
  related_ingredients compound[]
  pharmacological_class pharmacologicalClass[]
  contraindication_mix_type String
  contraindication_dur_code String
  contraindication_eng_name String
  contraindication_kor_name String
  contraindication_mix String?
  contraindication_related_ingredients compound[]
  contraindication_pharmacological_class pharmacologicalClass[]
  notification_date DateTime?
  prohibited_content String
  remarks String?
  deletion_status String

  @@index([dur_code]) 
  @@index([related_ingredients])
  @@index([related_ingredients.code])
  @@index([related_ingredients.name])
  @@index([related_ingredients.name, related_ingredients.code])
  @@index([contraindication_related_ingredients])
  @@index([contraindication_related_ingredients.code])
  @@index([contraindication_related_ingredients.name])
  @@index([contraindication_related_ingredients.name, contraindication_related_ingredients.code])
}

model dur_ingredient_age_taboo{
  id String @id @map("_id") /// [dur_code]
  dur_type String // 연령금기
  mix_type String // 단일/복합
  dur_code String
  ingredient_eng_name String
  ingredient_kor_name String
  mix String?
  related_ingredients compound[]
  pharmacological_class pharmacologicalClass[]
  forms String[]
  age String
  base String // 이하,미만 등...
  notification_date DateTime?
  prohibited_content String
  remarks String?
  deletion_status String

  @@index([dur_code])
  @@index([related_ingredients])
  @@index([related_ingredients.code])
  @@index([forms])
}

model dur_ingredient_pregnant_taboo{
  id String @id @map("_id") /// [dur_code]
  dur_type String // 임부금기
  mix_type String // 단일/복합
  dur_code String
  ingredient_eng_name String
  ingredient_kor_name String
  mix String?
  related_ingredients compound[]
  pharmacological_class pharmacologicalClass[]
  forms String[]
  grade String
  notification_date DateTime?
  prohibited_content String
  remarks String?
  deletion_status String

  @@index([dur_code])
  @@index([related_ingredients])
  @@index([related_ingredients.code])
  @@index([forms])
  @@index([grade])
}

model dur_ingredient_volume_taboo{
  id String @id @map("_id") /// [dur_code]
  dur_type String // 임부금기
  mix_type String // 단일/복합
  dur_code String
  ingredient_eng_name String
  ingredient_kor_name String
  mix String?
  related_ingredients compound[]
  pharmacological_class pharmacologicalClass[]
  forms String[]
  max_quantity String
  notification_date DateTime?
  prohibited_content String
  remarks String?
  deletion_status String

  @@index([dur_code])
  @@index([related_ingredients])
  @@index([related_ingredients.code])
  @@index([forms])
}
model dur_ingredient_period_taboo{
  id String @id @map("_id") /// [dur_code]
  dur_type String // 임부금기
  mix_type String // 단일/복합
  dur_code String
  ingredient_eng_name String
  ingredient_kor_name String
  mix String?
  related_ingredients compound[]
  pharmacological_class pharmacologicalClass[]
  forms String[]
  max_period String
  notification_date DateTime?
  prohibited_content String
  remarks String?
  deletion_status String

  @@index([dur_code])
  @@index([related_ingredients])
  @@index([related_ingredients.code])
  @@index([forms])
}
model dur_ingredient_old_taboo{
  id String @id @map("_id") /// [dur_code]
  dur_type String // 임부금기
  mix_type String // 단일/복합
  dur_code String
  ingredient_eng_name String
  ingredient_kor_name String
  mix String?
  related_ingredients compound[]
  pharmacological_class pharmacologicalClass[]
  forms String[]
  notification_date DateTime?
  prohibited_content String
  remarks String?
  deletion_status String

  @@index([dur_code])
  @@index([related_ingredients])
  @@index([related_ingredients.code])
  @@index([forms])
}
model dur_ingredient_duplicate_effect_taboo{
  id String @id @map("_id") /// [dur_code]
  dur_type String // 임부금기
  mix_type String // 단일/복합
  dur_code String
  ingredient_eng_name String
  ingredient_kor_name String
  mix String?
  related_ingredients compound[]
  pharmacological_class pharmacologicalClass[]
  notification_date DateTime?
  prohibited_content String
  remarks String?
  deletion_status String
  effect_code String
  category String?
  @@index([dur_code])
  @@index([related_ingredients])
  @@index([related_ingredients.code])
  @@index([effect_code])
  @@index([category])
}